<ion-header>
	<ion-toolbar color="primary">
		<ion-buttons slot="start">
			<ion-back-button></ion-back-button>
		</ion-buttons>
		<ion-title>Log In</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content class="login-content ion-no-margin ion-no-padding">
	<h2 class="auth-title" style="color: 000000">
		{{ 'app.name' }}
	</h2>
	<form [formGroup]="loginForm" (ngSubmit)="doLogin()">
		<ion-list class="inputs-list" lines="full">
			<ion-item class="input-item">
				<ion-input type="email"
						   placeholder="Email"
						   formControlName="email"
						   clearInput
						   autocapitalize="off"
						   inputmode="email">
				</ion-input>
			</ion-item>
			<div class="error-container">
				<ng-container *ngFor="let validation of validation_messages.email">
					<div class="error-message"
						 *ngIf="loginForm.get('email').hasError(validation.type) && (loginForm.get('email').dirty || loginForm.get('email').touched)">
						<ion-icon name="information-circle-outline"></ion-icon>
						<span>{{ validation.message }}</span>
					</div>
				</ng-container>
			</div>

			<ion-item class="input-item">
				<app-show-hide-password>
					<ion-input type="password" placeholder="Password" formControlName="password"></ion-input>
				</app-show-hide-password>

			</ion-item>

			<div class="error-container">
				<ng-container *ngFor="let validation of validation_messages.password">
					<div class="error-message" *ngIf="loginForm.get('password').hasError(validation.type)
					&& (loginForm.get('password').dirty || loginForm.get('password').touched)">
						<ion-icon name="information-circle-outline"></ion-icon>
						<span>{{ validation.message }}</span>
					</div>
				</ng-container>
			</div>
		</ion-list>

		<ion-button class="login-btn" type="submit" expand="block">
			<ion-icon name="key-outline"></ion-icon>
			Log In
		</ion-button>

		<ion-button class="forgot-btn" fill="clear" expand="full" [routerLink]="['/forgot-password']">
			Forgot Password?
		</ion-button>

		<ion-grid class="ion-no-padding">
			<ion-row>
				<ion-button class="forgot-btn" fill="clear" expand="full" [routerLink]="['/forgot-password']">
					Forgot Password?
				</ion-button>
			</ion-row>
		</ion-grid>

		<ion-grid class="ion-no-padding">
			<ion-row>
				<ion-col>
					<img src="./assets/img/register-icon-128.png" />
				</ion-col>
				<ion-col>
					<ion-button class="signup-btn" fill="clear" expand="full" [routerLink]="['/signup']">
						Sign Up!
					</ion-button>
				</ion-col>
			</ion-row>
		</ion-grid>

	</form>

</ion-content>
